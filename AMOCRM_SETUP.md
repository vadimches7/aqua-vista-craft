# –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—é AmoCRM

## –í–∞—Ä–∏–∞–Ω—Ç 1: –ß–µ—Ä–µ–∑ Webhook (–†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è - —Å–∞–º—ã–π –ø—Ä–æ—Å—Ç–æ–π)

### –®–∞–≥–∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏:

1. **–°–æ–∑–¥–∞–π—Ç–µ Webhook –≤ AmoCRM:**
   - –ó–∞–π–¥–∏—Ç–µ –≤ AmoCRM ‚Üí –ù–∞—Å—Ç—Ä–æ–π–∫–∏ ‚Üí –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ ‚Üí Webhooks
   - –°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—ã–π webhook
   - –°–∫–æ–ø–∏—Ä—É–π—Ç–µ URL webhook

2. **–î–æ–±–∞–≤—å—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é –æ–∫—Ä—É–∂–µ–Ω–∏—è:**
   - –°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `.env` –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞ (–µ—Å–ª–∏ –µ–≥–æ –Ω–µ—Ç)
   - –î–æ–±–∞–≤—å—Ç–µ —Å—Ç—Ä–æ–∫—É:
   ```
   VITE_AMOCRM_WEBHOOK_URL=https://yourcompany.amocrm.ru/webhook/your-webhook-id
   ```

3. **–ì–æ—Ç–æ–≤–æ!** –ó–∞—è–≤–∫–∏ –±—É–¥—É—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ—Ç–ø—Ä–∞–≤–ª—è—Ç—å—Å—è –≤ AmoCRM.

---

## –í–∞—Ä–∏–∞–Ω—Ç 2: –ß–µ—Ä–µ–∑ API (–ë–æ–ª–µ–µ –≥–∏–±–∫–∏–π, –Ω–æ —Å–ª–æ–∂–Ω–µ–µ)

### –®–∞–≥–∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏:

1. **–ü–æ–ª—É—á–∏—Ç–µ API –∫–ª—é—á–∏ –≤ AmoCRM:**
   - –ó–∞–π–¥–∏—Ç–µ –≤ AmoCRM ‚Üí –ù–∞—Å—Ç—Ä–æ–π–∫–∏ ‚Üí –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ ‚Üí API
   - –°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—É—é –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—é
   - –°–∫–æ–ø–∏—Ä—É–π—Ç–µ:
     - Client ID
     - Client Secret
     - Redirect URI (–≤–∞—à –¥–æ–º–µ–Ω)

2. **–î–æ–±–∞–≤—å—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –≤ `.env`:**
   ```
   VITE_AMOCRM_DOMAIN=yourcompany.amocrm.ru
   VITE_AMOCRM_CLIENT_ID=your_client_id
   VITE_AMOCRM_CLIENT_SECRET=your_client_secret
   VITE_AMOCRM_REDIRECT_URI=https://yourdomain.com
   ```

3. **–ù–∞—Å—Ç—Ä–æ–π—Ç–µ OAuth2 –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—é:**
   - –†–µ–∞–ª–∏–∑—É–π—Ç–µ OAuth2 flow –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è access_token
   - –°–æ—Ö—Ä–∞–Ω—è–π—Ç–µ refresh_token –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Ç–æ–∫–µ–Ω–∞

---

## –í–∞—Ä–∏–∞–Ω—Ç 3: –ì–æ—Ç–æ–≤—ã–π –≤–∏–¥–∂–µ—Ç AmoCRM (–°–∞–º—ã–π –ø—Ä–æ—Å—Ç–æ–π)

1. **–ü–æ–ª—É—á–∏—Ç–µ –∫–æ–¥ –≤–∏–¥–∂–µ—Ç–∞:**
   - –ó–∞–π–¥–∏—Ç–µ –≤ AmoCRM ‚Üí –ù–∞—Å—Ç—Ä–æ–π–∫–∏ ‚Üí –í–∏–¥–∂–µ—Ç—ã
   - –°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—ã–π –≤–∏–¥–∂–µ—Ç —Ñ–æ—Ä–º—ã
   - –°–∫–æ–ø–∏—Ä—É–π—Ç–µ –∫–æ–¥

2. **–í—Å—Ç–∞–≤—å—Ç–µ –≤–∏–¥–∂–µ—Ç –Ω–∞ —Å–∞–π—Ç:**
   - –î–æ–±–∞–≤—å—Ç–µ —Å–∫—Ä–∏–ø—Ç –≤ `index.html` –∏–ª–∏ —Å–æ–∑–¥–∞–π—Ç–µ –æ—Ç–¥–µ–ª—å–Ω—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç

---

## –ö–∞–∫–∏–µ —Ñ–æ—Ä–º—ã –ø–æ–¥–∫–ª—é—á–µ–Ω—ã:

‚úÖ **–ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä** (`Calculator.tsx`) - –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –¥–∞–Ω–Ω—ã–µ –ø—Ä–∏ –Ω–∞–∂–∞—Ç–∏–∏ "–û–±—Å—É–¥–∏—Ç—å –ø—Ä–æ–µ–∫—Ç –≤ WhatsApp"

üìù **–ö–Ω–æ–ø–∫–∏ –≤ —Ç–∞—Ä–∏—Ñ–∞—Ö** - –º–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –æ—Ç–ø—Ä–∞–≤–∫—É –ø—Ä–∏ –∫–ª–∏–∫–µ –Ω–∞ "–ü–æ–ª—É—á–∏—Ç—å —Ç–æ—á–Ω—ã–π —Ä–∞—Å—á—ë—Ç"

üìß **–§–æ—Ä–º–∞ –∫–æ–Ω—Ç–∞–∫—Ç–æ–≤** (`Contact.tsx`) - –º–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –æ—Ç–ø—Ä–∞–≤–∫—É –ø—Ä–∏ –æ—Ç–ø—Ä–∞–≤–∫–µ —Ñ–æ—Ä–º—ã

---

## –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ:

1. –ó–∞–ø–æ–ª–Ω–∏—Ç–µ —Ñ–æ—Ä–º—É –Ω–∞ —Å–∞–π—Ç–µ
2. –ù–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É –æ—Ç–ø—Ä–∞–≤–∫–∏
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –≤ AmoCRM, —á—Ç–æ –∑–∞—è–≤–∫–∞ —Å–æ–∑–¥–∞–ª–∞—Å—å

---

## –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∫–∞—Å—Ç–æ–º–Ω—ã—Ö –ø–æ–ª–µ–π –≤ AmoCRM:

–ï—Å–ª–∏ –Ω—É–∂–Ω–æ —Å–æ—Ö—Ä–∞–Ω—è—Ç—å –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ (—Ç–∏–ø –ø—Ä–æ–µ–∫—Ç–∞, –ª–∏—Ç—Ä–∞–∂ –∏ —Ç.–¥.):

1. –í AmoCRM —Å–æ–∑–¥–∞–π—Ç–µ –∫–∞—Å—Ç–æ–º–Ω—ã–µ –ø–æ–ª—è –¥–ª—è —Å–¥–µ–ª–æ–∫:
   - –¢–∏–ø –ø—Ä–æ–µ–∫—Ç–∞
   - –õ–∏—Ç—Ä–∞–∂
   - –°—Ç–∏–ª—å
   - –ê–¥—Ä–µ—Å
   - –£–¥–æ–±–Ω–æ–µ –≤—Ä–µ–º—è
   - –ò—Å—Ç–æ—á–Ω–∏–∫ –∑–∞—è–≤–∫–∏

2. –ü–æ–ª—É—á–∏—Ç–µ ID —ç—Ç–∏—Ö –ø–æ–ª–µ–π —á–µ—Ä–µ–∑ API:
   ```bash
   GET https://yourcompany.amocrm.ru/api/v4/leads/custom_fields
   ```

3. –û–±–Ω–æ–≤–∏—Ç–µ —Ñ—É–Ω–∫—Ü–∏—é `createLead` –≤ `src/lib/amocrm.ts`, –¥–æ–±–∞–≤–∏–≤ –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ field_id

---

## –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å:

‚ö†Ô∏è **–í–∞–∂–Ω–æ:** –ù–µ –∫–æ–º–º–∏—Ç—å—Ç–µ —Ñ–∞–π–ª `.env` –≤ Git!

–î–æ–±–∞–≤—å—Ç–µ –≤ `.gitignore`:
```
.env
.env.local
.env.production
```

---

## –ü–æ–¥–¥–µ—Ä–∂–∫–∞:

–ï—Å–ª–∏ –≤–æ–∑–Ω–∏–∫–ª–∏ –ø—Ä–æ–±–ª–µ–º—ã:
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–Ω—Å–æ–ª—å –±—Ä–∞—É–∑–µ—Ä–∞ –Ω–∞ –æ—à–∏–±–∫–∏
2. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –ø—Ä–∞–≤–∏–ª—å–Ω–æ –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ webhook/API –¥–æ—Å—Ç—É–ø–Ω—ã –∏–∑ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–∞

